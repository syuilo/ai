import è— from '../../ai';
import IModule from '../../module';
import MessageLike from '../../message-like';
import serifs from '../../serifs';
import * as seedrandom from 'seedrandom';

const blessing = [
	'è—å‰',
	'ã‚®ã‚¬å‰',
	'ãƒ¡ã‚¬å‰',
	'è¶…å‰',
	'å¤§å¤§å‰',
	'å¤§å‰',
	'å‰',
	'ä¸­å‰',
	'å°å‰',
	'å‡¶',
	'å¤§å‡¶',
];

const itemPrefixes = [
	'ãƒ—ãƒ©ãƒãƒŠè£½',
	'æ–°é®®ãª',
	'æœ€æ–°å¼ã®',
	'å¤ä»£ã®',
	'æ‰‹ä½œã‚Š',
	'æ™‚è¨ˆã˜ã‹ã‘ã®',
	'ä¼èª¬ã®',
	'ç„¼ã',
	'ç”Ÿã®',
	'è—è¬¹è£½',
	'ãƒã‚±ãƒƒãƒˆã‚µã‚¤ã‚º',
	'3æ—¥å‰ã®',
	'ãã“ã‚‰ã¸ã‚“ã®',
	'å½ã®',
	'ä½¿ç”¨æ¸ˆã¿',
	'å£Šã‚ŒãŸ',
	'å¸‚è²©ã®',
	'ã‚ªãƒ¼ãƒ€ãƒ¼ãƒ¡ã‚¤ãƒ‰ã®',
	'æ¥­å‹™ç”¨ã®',
	'Microsoftè£½',
	'Appleè£½',
	'äººé¡ã®æŠ€è¡“ã‚’çµé›†ã—ã¦ä½œã£ãŸ',
	'2018å¹´è£½',
	'500kgãã‚‰ã„ã‚ã‚‹',
	'é«˜ç´š',
	'è…ã£ãŸ',
	'äººå·¥çŸ¥èƒ½æ­è¼‰',
	'åé‡åŠ›',
	'æŠ˜ã‚Šç•³ã¿å¼',
	'æºå¸¯å‹',
	'éºä¼å­çµ„ã¿æ›ãˆ',
	'çªç„¶å¤‰ç•°ã—ã¦é£›è¡Œèƒ½åŠ›ã‚’ç²å¾—ã—ãŸ',
	'ç´”é‡‘è£½',
	'é€æ˜ãª',
	'å…‰ã‚‹',
	'ãƒãƒ¼ãƒˆå‹ã®',
	'å‹•ã',
	'åŠåˆ†ã«ã‚«ãƒƒãƒˆã•ã‚ŒãŸ',
	'USBã‚³ãƒã‚¯ã‚¿ä»˜ãã®',
	'ã„ã«ã—ãˆã®',
	'å‘ªã‚ã‚ŒãŸ',
	'ã‚¨ãƒ³ãƒãƒ£ãƒ³ãƒˆã•ã‚ŒãŸ',
	'ä¸€æ—¥åˆ†ã®ãƒ“ã‚¿ãƒŸãƒ³ãŒå…¥ã£ãŸ',
	'ã‹ã˜ã‚Šã‹ã‘',
	'å¹»ã®',
	'ä»®æƒ³çš„ãª',
	'åŸå­åŠ›',
	'é«˜åº¦ã«è¨“ç·´ã•ã‚ŒãŸ',
	'éºä¼å­çµ„ã¿æ›ãˆã§ãªã„',
	'ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³æœ€æ·±éƒ¨ã§è¦‹ã¤ã‹ã£ãŸ',
	'ç•°ä¸–ç•Œã®',
	'ç•°æ˜Ÿã®',
	'è¬ã®',
	'æ™‚ç©ºã‚’æ­ªã‚ã‚‹',
	'ç•°éŸ³ãŒã™ã‚‹',
	'éœ§æ•£ã™ã‚‹',
	'ãƒ—ãƒ©ã‚ºãƒåŒ–ã—ãŸ',
	'è¡æ’ƒã‚’ä¸ãˆã‚‹ã¨ä½ç¢ºç‡ã§çˆ†ç™ºã™ã‚‹',
	'ã‚ºãƒƒã‚­ãƒ¼ãƒ‹ã«æ“¬æ…‹ã—ãŸ',
	'ä»®èª¬ä¸Šã®',
	'æ¯’ã®',
	'çœŸã®',
	'ç©¶æ¥µã®',
	'ãƒãƒ§ã‚³å…¥ã‚Š',
	'ç•°è‡­ã‚’æ”¾ã¤',
	'4æ¬¡å…ƒ',
	'è„ˆå‹•ã™ã‚‹',
	'å¾—ä½“ã®çŸ¥ã‚Œãªã„',
	'å››è§’ã„',
	'æš´ã‚Œå›ã‚‹',
	'å¤¢ã®',
	'é—‡ã®',
	'æš—é»’ã®',
	'å°å°ã•ã‚Œã—',
	'æ­»ã®',
	'å‡ã£ãŸ',
	'é­”ã®',
	'ç¦æ–­ã®',
	'ãƒ›ãƒ­ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ãª',
	'æ²¹åœ§å¼',
];

const items = [
	'ãƒŠã‚¹',
	'ãƒˆãƒãƒˆ',
	'ãã‚…ã†ã‚Š',
	'ã˜ã‚ƒãŒã„ã‚‚',
	'ç„¼ããƒ“ãƒ¼ãƒ•ãƒ³',
	'è…°',
	'å¯¿å¸',
	'ã‹ã¼ã¡ã‚ƒ',
	'è«­å‰',
	'ã‚­ãƒ­ãƒãƒ¼',
	'ã‚¢ãƒ«ãƒŸãƒ‹ã‚¦ãƒ ',
	'ãƒŠãƒˆãƒªã‚¦ãƒ ',
	'ãƒã‚°ãƒã‚·ã‚¦ãƒ ',
	'ãƒ—ãƒ«ãƒˆãƒ‹ã‚¦ãƒ ',
	'ã¡ã„ã•ãªãƒ¡ãƒ€ãƒ«',
	'ç‰›ä¹³ãƒ‘ãƒƒã‚¯',
	'ãƒšãƒƒãƒˆãƒœãƒˆãƒ«',
	'ã‚¯ãƒƒã‚­ãƒ¼',
	'ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ',
	'ãƒ¡ã‚¤ãƒ‰æœ',
	'ã‚ªãƒ¬ãƒ³ã‚¸',
	'ãƒ‹ãƒ¼ã‚½',
	'åç‰©è³ªã‚³ãƒ³ãƒ‡ãƒ³ã‚µ',
	'ç²’å­åŠ é€Ÿå™¨',
	'ãƒã‚¤ã‚¯ãƒ­ãƒ—ãƒ­ã‚»ãƒƒã‚µ(4ã‚³ã‚¢8ã‚¹ãƒ¬ãƒƒãƒ‰)',
	'åŸå­åŠ›ç™ºé›»æ‰€',
	'ãƒ¬ã‚¤ãƒ¤4ã‚¹ã‚¤ãƒƒãƒ',
	'ç·©è¡ãƒã‚§ãƒ¼ãƒ³',
	'é™½é›»å­é ­è„³',
	'æƒ‘æ˜Ÿ',
	'ãƒ†ãƒ«ãƒŸãƒ³',
	'è™«æ­¯è»Š',
	'ãƒã‚¦ãƒ³ã‚¿ãƒ¼',
	'ãƒã‚±ãƒƒãƒˆãƒ›ã‚¤ãƒ¼ãƒ«ã‚¨ã‚¯ã‚¹ã‚«ãƒ™ãƒ¼ã‚¿ãƒ¼',
	'ãƒ‡ãƒ¼ãƒ¢ãƒ³ã‚³ã‚¢',
	'ã‚²ãƒ¼ãƒ ãƒœãƒ¼ã‚¤ã‚¢ãƒ‰ãƒãƒ³ã‚¹',
	'é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼',
	'ã‚¢ãƒŠãƒ¢ãƒ«ãƒ•ã‚£ãƒƒã‚¯ãƒ¬ãƒ³ã‚º',
	'æŠ¼ã—å…¥ã‚Œã®å¥¥ã‹ã‚‰å‡ºã¦ããŸè¬ã®ç”Ÿãç‰©',
	'ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³',
	'æ™‚è¨ˆ',
	'ãƒ—ãƒªãƒ³',
	'ã‚¬ãƒ–ãƒªã‚¨ãƒ«ã®ãƒ©ãƒƒãƒ‘',
	'ãƒ¡ãƒ³ã‚¬ãƒ¼ã®ã‚¹ãƒãƒ³ã‚¸',
	'ãƒãƒ³ãƒ‰ã‚¹ãƒ”ãƒŠãƒ¼',
	'è¶…ç«‹æ–¹ä½“',
	'å»ºç¯‰ç‰©',
	'ã‚¨ãƒŠã‚¸ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯',
	'ãƒã‚¦ã‚¹ã‚«ãƒ¼ã‚½ãƒ«',
	'ãƒ¡ã‚¬ãƒ',
	'ã¾ãã‚',
	'ã‚´ãƒŸç®±',
	'ã¤ã¾ã‚ˆã†ã˜',
	'ãŠå¼å½“ã«å…¥ã£ã¦ã‚‹ç·‘ã®ä»•åˆ‡ã‚Šã¿ãŸã„ãªã‚„ã¤',
	'å‰²ã‚Šã°ã—',
	'æ›æ°—æ‰‡',
	'ãƒšãƒƒãƒˆãƒœãƒˆãƒ«ã®ã‚­ãƒ£ãƒƒãƒ—',
	'æ¶ˆæ³¢ãƒ–ãƒ­ãƒƒã‚¯',
	'ãƒ”ã‚¶',
	'æ­¯ç£¨ãç²‰',
	'ç©ºãç¼¶',
	'ã‚­ãƒ¼ãƒ›ãƒ«ãƒ€ãƒ¼',
	'é‡‘é«ªç¢§çœ¼ã®ç¾å°‘å¥³',
	'SDã‚«ãƒ¼ãƒ‰',
	'ãƒªãƒƒãƒ—ã‚¯ãƒªãƒ¼ãƒ ',
	'ãƒãƒ§ã‚³ç„¡ã—ãƒãƒ§ã‚³ã‚³ãƒ­ãƒ',
	'é³¥ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶',
	'è‡ªå‹•è²©å£²æ©Ÿ',
	'é‡ã„ã‚‚ã®',
	'ãƒãƒ¼ãƒˆãƒ‘ã‚½ã‚³ãƒ³',
	'ãƒ“ãƒ¼ãƒ•ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼',
	'ã•ã‘ã‚‹ãƒãƒ¼ã‚º',
	'ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰',
	'ç‰©ä½“',
	'æœˆã®çŸ³',
	'ç‰¹ç•°ç‚¹',
	'ä¸­æ€§å­æ˜Ÿ',
	'æ¶²ä½“',
	'è¡›æ˜Ÿ',
	'ã‚ºãƒƒã‚­ãƒ¼ãƒ‹',
	'é»’ã„ã‚‚ã®',
	'ç™½ã„ã‚‚ã®',
	'èµ¤ã„ã‚‚ã®',
	'ä¸¸ã„ã‚‚ã®',
	'å››è§’ã„ã‚‚ã®',
	'ã‚«ãƒ¼ãƒ‰çŠ¶ã®ã‚‚ã®',
	'æ°—ä½“',
	'é‰›ç­†',
	'æ¶ˆã—ã‚´ãƒ ',
	'ã¤ã‚‹ã',
	'æ£’çŠ¶ã®ã‚‚ã®',
	'è¾²ç”£ç‰©',
	'ãƒ¡ã‚¿ãƒ«ã‚¹ãƒ©ã‚¤ãƒ ',
	'ã‚¿ã‚³ã®è¶³',
	'ãã®ã“',
	'ãªã‚ã“',
	'ç¼¶ãƒãƒ¥ãƒ¼ãƒã‚¤',
	'çˆªåˆ‡ã‚Š',
	'è€³ã‹ã',
	'ã¬ã„ãã‚‹ã¿',
	'ãƒ†ã‚£ãƒ©ãƒã‚µã‚¦ãƒ«ã‚¹',
	'å°¿è·¯çµçŸ³',
	'ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼',
	'å£º',
	'æ°´éŠ€',
	'DHMO',
	'æ°´',
	'åœŸåœ°',
	'å¤§é™¸',
	'ã‚µã‚¤ã‚³ãƒ­',
	'å®¤å¤–æ©Ÿ',
	'æ²¹åœ§ã‚¸ãƒ£ãƒƒã‚­',
];

export default class FortuneModule implements IModule {
	public readonly name = 'fortune';

	public install = (ai: è—) => { }

	public onMention = (msg: MessageLike) => {
		if (msg.includes(['å ', 'ã†ã‚‰ãª', 'é‹å‹¢', 'ãŠã¿ãã˜'])) {
			const date = new Date();
			const seed = `${date.getFullYear()}/${date.getMonth()}/${date.getDate()}@${msg.userId}`;
			const rng = seedrandom(seed);
			const omikuji = blessing[Math.floor(rng() * blessing.length)];
			const itemPrefix = Math.floor(rng() * 5) != 0 ? itemPrefixes[Math.floor(rng() * itemPrefixes.length)] : '';
			const item = items[Math.floor(rng() * items.length)];
			msg.reply(`**${omikuji}ğŸ‰**\nãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ : ${itemPrefix}${item}`, serifs.fortune.cw(msg.friend.name));
			return true;
		} else {
			return false;
		}
	}
}
